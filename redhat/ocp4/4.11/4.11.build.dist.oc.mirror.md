# 4.11 离线安装， 介质准备

本文的安装步骤，最好是在美国的VPS上完成，然后打包传输回来。

准备离线安装源的步骤如下
- 准备好operator hub catalog，主要是需要里面的日期信息
- 运行脚本，准备离线安装源

本操作是在一台公网 rocky linux 上。

## 环境准备

```bash
# on vultr
# yum -y install https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
dnf install -y epel-release

dnf -y install htop byobu ethtool dstat

rm -rf /data/ocp4
mkdir -p /data/ocp4
cd /data/ocp4

dnf groupinstall -y development

dnf -y install podman pigz skopeo buildah jq python3-pip git python3

pip3 install yq

podman login -u ****** -p ******** registry.redhat.io
podman login -u ****** -p ******** registry.access.redhat.com
podman login -u ****** -p ******** registry.connect.redhat.com

# to download the pull-secret.json, open following link
# https://cloud.redhat.com/openshift/install/metal/user-provisioned
cat << 'EOF' > /data/pull-secret.json
{"auths":{"cloud.openshift.com":*********************
EOF

cat << EOF >>  /etc/hosts

127.0.0.1 registry.redhat.ren

EOF

cat << EOF >>  /etc/cloud/templates/hosts.redhat.tmpl

127.0.0.1 registry.redhat.ren

EOF

# 配置registry
mkdir -p /etc/crts/ && cd /etc/crts

# https://access.redhat.com/documentation/en-us/red_hat_codeready_workspaces/2.1/html/installation_guide/installing-codeready-workspaces-in-tls-mode-with-self-signed-certificates_crw
openssl genrsa -out /etc/crts/redhat.ren.ca.key 4096
openssl req -x509 \
  -new -nodes \
  -key /etc/crts/redhat.ren.ca.key \
  -sha256 \
  -days 36500 \
  -out /etc/crts/redhat.ren.ca.crt \
  -subj /CN="Local Red Hat Ren Signer" \
  -reqexts SAN \
  -extensions SAN \
  -config <(cat /etc/pki/tls/openssl.cnf \
      <(printf '[SAN]\nbasicConstraints=critical, CA:TRUE\nkeyUsage=keyCertSign, cRLSign, digitalSignature'))

openssl genrsa -out /etc/crts/redhat.ren.key 2048

openssl req -new -sha256 \
    -key /etc/crts/redhat.ren.key \
    -subj "/O=Local Red Hat Ren /CN=*.ocp4.redhat.ren" \
    -reqexts SAN \
    -config <(cat /etc/pki/tls/openssl.cnf \
        <(printf "\n[SAN]\nsubjectAltName=DNS:*.ocp4.redhat.ren,DNS:*.apps.ocp4.redhat.ren,DNS:*.redhat.ren\nbasicConstraints=critical, CA:FALSE\nkeyUsage=digitalSignature, keyEncipherment, keyAgreement, dataEncipherment\nextendedKeyUsage=serverAuth")) \
    -out /etc/crts/redhat.ren.csr

openssl x509 \
    -req \
    -sha256 \
    -extfile <(printf "subjectAltName=DNS:*.ocp4.redhat.ren,DNS:*.apps.ocp4.redhat.ren,DNS:*.redhat.ren\nbasicConstraints=critical, CA:FALSE\nkeyUsage=digitalSignature, keyEncipherment, keyAgreement, dataEncipherment\nextendedKeyUsage=serverAuth") \
    -days 36500 \
    -in /etc/crts/redhat.ren.csr \
    -CA /etc/crts/redhat.ren.ca.crt \
    -CAkey /etc/crts/redhat.ren.ca.key \
    -CAcreateserial -out /etc/crts/redhat.ren.crt

openssl x509 -in /etc/crts/redhat.ren.crt -text

/bin/cp -f /etc/crts/redhat.ren.ca.crt /etc/pki/ca-trust/source/anchors/
update-ca-trust extract

cd /data/ocp4
# systemctl stop docker-distribution

/bin/rm -rf /data/registry
mkdir -p /data/registry

podman run --restart always --name local-registry -p 5443:5443 \
  -d --restart=always \
  -v /data/registry/:/var/lib/registry:z \
  -v /etc/crts:/certs:z \
  -e REGISTRY_HTTP_ADDR=0.0.0.0:5443 \
  -e REGISTRY_HTTP_TLS_CERTIFICATE=/certs/redhat.ren.crt \
  -e REGISTRY_HTTP_TLS_KEY=/certs/redhat.ren.key \
  docker.io/library/registry:2

# https://developers.redhat.com/blog/2019/10/29/verifying-signatures-of-red-hat-container-images
/bin/cp -f /etc/containers/policy.json /etc/containers/policy.json.bak
cat << EOF > /etc/containers/policy.json
{
    "default": [
        {
            "type": "insecureAcceptAnything"
        }
    ],
    "transports":
        {
            "docker-daemon":
                {
                    "": [{"type":"insecureAcceptAnything"}]
                }
        }
}
EOF

```

## oc client install

check stable release here
- https://ctron.github.io/openshift-update-graph/#stable-4.8
- https://access.redhat.com/labs/ocpupgradegraph/update_channel?channel=stable-4.8&arch=x86_64&is_show_hot_fix=false
  
```bash
rm -rf /data/ocp4/

mkdir -p /data/ocp4/
cd /data/ocp4

export BUILDNUMBER=4.11.6

wget -O openshift-client-linux-${BUILDNUMBER}.tar.gz https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/${BUILDNUMBER}/openshift-client-linux-${BUILDNUMBER}.tar.gz
wget -O openshift-install-linux-${BUILDNUMBER}.tar.gz https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/${BUILDNUMBER}/openshift-install-linux-${BUILDNUMBER}.tar.gz

tar -xzf openshift-client-linux-${BUILDNUMBER}.tar.gz -C /usr/local/sbin/
tar -xzf openshift-install-linux-${BUILDNUMBER}.tar.gz -C /usr/local/sbin/

```

## 离线安装源制作

```bash

rm -rf /data/ocp4/

mkdir -p /data/ocp4/tmp
cd /data/ocp4/tmp
git clone https://github.com/wangzheng422/openshift4-shell
cd openshift4-shell
git checkout ocp-4.11
/bin/cp -f prepare.content.with.oc.mirror.sh /data/ocp4/

rm -rf /data/ocp4/tmp

cd /data/ocp4

# bash prepare.content.with.oc.mirror.sh -v 4.11.5,${BUILDNUMBER}, -m ${BUILDNUMBER%.*} -b ocp-4.11
bash prepare.content.with.oc.mirror.sh -v ${BUILDNUMBER}, -m ${BUILDNUMBER%.*} -b ocp-4.11

```

## download using oc-mirror 

```bash

SEC_FILE="$XDG_RUNTIME_DIR/containers/auth.json"
# $XDG_RUNTIME_DIR/containers
mkdir -p ${SEC_FILE%/*}


cat > /data/ocp4/mirror.yaml << EOF
apiVersion: mirror.openshift.io/v1alpha2
kind: ImageSetConfiguration
# archiveSize: 4
mirror:
  platform:
    architectures:
      - amd64
      # - arm64
    channels:
      - name: stable-4.11
        type: ocp
        minVersion: 4.11.6
        maxVersion: 4.11.6
        shortestPath: true
    graph: true           
EOF

mkdir -p /data/install
cd /data/install

oc-mirror --config /data/ocp4/mirror.yaml file:///data/install/

```

## download image for components

```bash
########################################
# your images
cd /data/ocp4/
export MIRROR_DIR='/data/install.image'
/bin/rm -rf ${MIRROR_DIR}
bash add.image.sh install.image.list ${MIRROR_DIR}

export MIRROR_DIR='/data/poc.image'
/bin/rm -rf ${MIRROR_DIR}
bash add.image.sh poc.image.list ${MIRROR_DIR}

########################################
# common function
build_image_list() {
  VAR_INPUT_FILE=$1
  VAR_OUTPUT_FILE=$2
  VAR_OPERATOR=$3

  VAR_FINAL=`cat $VAR_INPUT_FILE | grep $VAR_OPERATOR | awk '{if ($2) print $2;}' | sort | uniq | tail -1`

  echo $VAR_FINAL

  cat $VAR_INPUT_FILE | grep $VAR_FINAL | awk '{if ($2) print $1;}' >> $VAR_OUTPUT_FILE
}

########################################
# redhat operator hub
export MIRROR_DIR='/data/redhat-operator'

/bin/rm -rf ${MIRROR_DIR}
/bin/rm -f /data/ocp4/mapping-redhat.list
wanted_operator_list=$(cat redhat-operator-image.list | awk '{if ($2) print $2;}' \
  | sed 's/\..*//g' | sort | uniq
)

while read -r line; do
    build_image_list '/data/ocp4/redhat-operator-image.list' '/data/ocp4/mapping-redhat.list' $line
done <<< "$wanted_operator_list"

bash add.image.sh mapping-redhat.list ${MIRROR_DIR}

# /bin/cp -f pull.add.image.failed.list pull.add.image.failed.list.bak
# bash add.image.resume.sh pull.add.image.failed.list.bak ${MIRROR_DIR}

cd ${MIRROR_DIR%/*}
tar cf - echo ${MIRROR_DIR##*/}/ | pigz -c > echo ${MIRROR_DIR##*/}.tgz 

# to load image back
bash add.image.load.sh '/data/redhat-operator' 'registry.redhat.ren:5443'

######################################
# certified operator hub
export MIRROR_DIR='/data/certified-operator'

/bin/rm -rf ${MIRROR_DIR}
/bin/rm -f /data/ocp4/mapping-certified.list
wanted_operator_list=$(cat certified-operator-image.list | awk '{if ($2) print $2;}' \
  | sed 's/\..*//g' | sort | uniq
)

while read -r line; do
    build_image_list '/data/ocp4/certified-operator-image.list' '/data/ocp4/mapping-certified.list' $line
done <<< "$wanted_operator_list"

bash add.image.sh mapping-certified.list ${MIRROR_DIR}

# /bin/cp -f pull.add.image.failed.list pull.add.image.failed.list.bak
# bash add.image.resume.sh pull.add.image.failed.list.bak ${MIRROR_DIR}

cd ${MIRROR_DIR%/*}
tar cf - echo ${MIRROR_DIR##*/}/ | pigz -c > echo ${MIRROR_DIR##*/}.tgz 

# bash add.image.sh mapping-certified.txt

#######################################
# community operator hub
export MIRROR_DIR='/data/community-operator'

/bin/rm -rf ${MIRROR_DIR}
/bin/rm -f /data/ocp4/mapping-community.list
wanted_operator_list=$(cat community-operator-image.list | awk '{if ($2) print $2;}' \
  | sed 's/\..*//g' | sort | uniq
)

while read -r line; do
    build_image_list '/data/ocp4/community-operator-image.list' '/data/ocp4/mapping-community.list' $line
done <<< "$wanted_operator_list"

bash add.image.sh mapping-community.list ${MIRROR_DIR}

# /bin/cp -f pull.add.image.failed.list pull.add.image.failed.list.bak
# bash add.image.resume.sh pull.add.image.failed.list.bak ${MIRROR_DIR}

cd ${MIRROR_DIR%/*}
tar cf - echo ${MIRROR_DIR##*/}/ | pigz -c > echo ${MIRROR_DIR##*/}.tgz 

# bash add.image.sh mapping-community.txt

# to load image back
bash add.image.load.sh '/data/community-operator' 'registry.redhat.ren:5443'

#####################################
# samples operator
export MIRROR_DIR='/data/is.samples'

/bin/rm -rf ${MIRROR_DIR}
bash add.image.sh is.openshift.list  ${MIRROR_DIR}


```

## 镜像仓库代理 / image registry proxy

准备离线镜像仓库非常麻烦，好在我们找到了一台在线的主机，那么我们可以使用nexus构造image registry proxy，在在线环境上面，做一遍PoC，然后就能通过image registry proxy得到离线镜像了

- https://mtijhof.wordpress.com/2018/07/23/using-nexus-oss-as-a-proxy-cache-for-docker-images/

```bash
#####################################################
# init build the nexus fs
mkdir -p /data/ccn/nexus-image
chown -R 200 /data/ccn/nexus-image

# podman run -d -p 8082:8081 -p 8083:8083 -it --name nexus-image -v /data/ccn/nexus-image:/nexus-data:Z docker.io/sonatype/nexus3:3.29.0

podman run -d -p 8082:8081 -p 8083:8083 -it --name nexus-image -v /data/ccn/nexus-image:/nexus-data:Z docker.io/wangzheng422/imgs:nexus3-3.29.0-wzh

podman stop nexus-image
podman rm nexus-image

# get the admin password
cat /data/ccn/nexus-image/admin.password && echo
# 84091bcd-c82f-44a3-8b7b-dfc90f5b7da1

# open http://nexus.ocp4.redhat.ren:8082

# 开启 https
# https://blog.csdn.net/s7799653/article/details/105378645
# https://help.sonatype.com/repomanager3/system-configuration/configuring-ssl#ConfiguringSSL-InboundSSL-ConfiguringtoServeContentviaHTTPS
mkdir -p /data/install/tmp
cd /data/install/tmp

# 将证书导出成pkcs格式
# 这里需要输入密码  用 password，
openssl pkcs12 -export -out keystore.pkcs12 -inkey /etc/crts/redhat.ren.key -in /etc/crts/redhat.ren.crt

cat << EOF >> Dockerfile
FROM docker.io/sonatype/nexus3:3.29.0
USER root
COPY keystore.pkcs12 /keystore.pkcs12
RUN keytool -v -importkeystore -srckeystore keystore.pkcs12 -srcstoretype PKCS12 -destkeystore keystore.jks -deststoretype JKS -storepass password -srcstorepass password  &&\
    cp keystore.jks /opt/sonatype/nexus/etc/ssl/
USER nexus
EOF
buildah bud --format=docker -t docker.io/wangzheng422/imgs:nexus3-3.29.0-wzh -f Dockerfile .
buildah push docker.io/wangzheng422/imgs:nexus3-3.29.0-wzh

######################################################
# go to helper, update proxy setting for ocp cluster
cd /data/ocp4
bash image.registries.conf.sh nexus.ocp4.redhat.ren:8083

mkdir -p /etc/containers/registries.conf.d
/bin/cp -f image.registries.conf /etc/containers/registries.conf.d/

cd /data/ocp4
oc apply -f ./99-worker-container-registries.yaml -n openshift-config
oc apply -f ./99-master-container-registries.yaml -n openshift-config

######################################################
# dump the nexus image fs out
podman stop nexus-image

var_date=$(date '+%Y-%m-%d-%H%M')
echo $var_date
cd /data/ccn

tar cf - ./nexus-image | pigz -c > nexus-image.tgz 
buildah from --name onbuild-container scratch
buildah copy onbuild-container nexus-image.tgz  /
buildah umount onbuild-container 
buildah commit --rm --format=docker onbuild-container docker.io/wangzheng422/nexus-fs:image-$var_date
# buildah rm onbuild-container
# rm -f nexus-image.tgz 
buildah push docker.io/wangzheng422/nexus-fs:image-$var_date
echo "docker.io/wangzheng422/nexus-fs:image-$var_date"

# 以下这个版本，可以作为初始化的image proxy，里面包含了nfs provision，以及sample operator的metadata。很高兴的发现，image stream并不会完全下载镜像，好想只是下载metadata，真正用的时候，才去下载。
# docker.io/wangzheng422/nexus-fs:image-2020-12-26-1118

##################################################
## call nexus api to get image list
# https://community.sonatype.com/t/how-can-i-get-a-list-of-tags-for-a-docker-image-akin-to-the-docker-hub-list/3210
# https://help.sonatype.com/repomanager3/rest-and-integration-api/search-api
curl -k -u admin:84091bcd-c82f-44a3-8b7b-dfc90f5b7da1 -X GET 'http://nexus.ocp4.redhat.ren:8082/service/rest/v1/search?repository=registry.redhat.io'

curl -u admin:84091bcd-c82f-44a3-8b7b-dfc90f5b7da1 -X GET 'http://nexus.ocp4.redhat.ren:8082/service/rest/v1/components?repository=registry.redhat.io'

podman pull docker.io/anoxis/registry-cli
podman run --rm anoxis/registry-cli -l admin:84091bcd-c82f-44a3-8b7b-dfc90f5b7da1 -r https://nexus.ocp4.redhat.ren:8083

# https://github.com/rpardini/docker-registry-proxy

REPO_URL=nexus.ocp4.redhat.ren:8083

curl -k -s -X GET https://$REPO_URL/v2/_catalog \
 | jq '.repositories[]' \
 | sort \
 | xargs -I _ curl -s -k -X GET https://$REPO_URL/v2/_/tags/list


######################################
## prepare for baidu disk

mkdir -p /data/ccn/baidu
cd /data/ccn

tar cf - ./nexus-image | pigz -c > /data/ccn/baidu/nexus-image.tgz 

cd /data/ccn/baidu
split -b 20000m nexus-image.tgz  nexus-image.tgz.
rm -f nexus-image.tgz

```

## prepare for baidu disk

```bash

yum -y install python3-pip
pip3 install --user bypy 

/root/.local/bin/bypy list
# /root/.local/bin/bypy upload

```

## upload to baidu disk

```bash
export BUILDNUMBER=4.10.15

mkdir -p /data/bypy
cd /data/bypy

cd /data
# export BUILDNUMBER=4.8.17

tar -cvf - ocp4/ | pigz -c > /data/bypy/ocp.$BUILDNUMBER.tgz
# tar -cvf - registry/ | pigz -c > /data/bypy/registry.$BUILDNUMBER.tgz
tar -cvf - file.registry | pigz -c > /data/bypy/file.registry.$BUILDNUMBER.tgz

cd /data/bypy
# https://github.com/houtianze/bypy
# yum -y install python3-pip
# pip3 install --user bypy 
# /root/.local/bin/bypy list
/root/.local/bin/bypy upload

# or
rsync -e ssh -P --delete -arz root@v.redhat.ren:/data/bypy/ ./

cd /data/bypy
/root/.local/bin/bypy download

```

# rsync from v.redhat.ren

```bash
export RSYNC_PROXY=10.147.17.54:5085

# cd to ocp4
rsync -P --delete -arz root@v.redhat.ren:/data/ocp4/ ./

# cd to registry
rsync -P --delete -arz root@v.redhat.ren:/data/registry/ ./

# and sync back to helper
rsync -P --delete -arz ./ root@172.21.6.11:/data/ocp4/

```

# using korea jumb box

```bash
# on korea
ssh-keygen
cat ~/.ssh/id_rsa.pub

# on us 
cat << EOF >> ~/.ssh/authorized_keys
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDN00t9ErmqSgM8FhbS5XMrjh/+400HS3Fbw+m3c10Nv56nZOqJoBS7d1f3/G/yBu06MYRMXBbXFq6ffUSKK2FAVpHMDrAoX2/85Czqn72P+1ZsukjXINf92lEOuSJuB0bZG/lSMV3HFMHFwMN+W09vpcaiB5wWcyLeiGofYuNtiat7CwcwTw8n2v6w/9dWd95JdXE9sdfL/6SJKZAgfDZ9lRdmk1rn+mt0vFz5Q6hR7VecKTjEwCEp4HmnvGzPc2wHeJMuNfLOTxmc9n/4cg8FC59+XD7z/VsOf1JeQHic2QnU6ZssoTEueSlSyUbB8gjMO/jQaNLEkQ25Fx04+0nmLp1Fj3ac3AMpjYoaLvQB3elqThfLXSMgEACanh4oIvNn8t1psUX5A17lQvvTPj3i94Ivge1QQglCVw/WUN31eihyoCBzIg3dnO+hMMNn2jKF0jg/sQBK1SxTMPrUx2HXXIgKd5PeMoWS3pvDplpeDBxud0wVM3yL9vE1ndmJSTk= root@vultr.guest
EOF
chmod 600 ~/.ssh/authorized_keys

# on korea
mkdir -p /data/bypy
cd /data/bypy

rsync -e ssh --info=progress2 -P --delete -arz v.redhat.ren:/data/bypy/ /data/bypy/


```

# get os content

```bash
rm -rf /data/ostree
mkdir -p /data/ostree

export BUILDNUMBER=4.9.5

oc image extract --path /:/data/ostree --registry-config /data/pull-secret.json   `  curl -s https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/$BUILDNUMBER/release.txt | grep machine-os-content | awk '{print $2}'  `


oc adm release info `curl -s https://mirror.openshift.com/pub/openshift-v4/x86_64/clients/ocp/4.10.28/release.txt | grep ocp-release | awk '{print $3}'` --commit-urls=true

```

# get operator list

```bash
wget https://github.com/fullstorydev/grpcurl/releases/download/v1.8.6/grpcurl_1.8.6_linux_x86_64.tar.gz
tar -xzf grpcurl_1.8.6_linux_x86_64.tar.gz -C /usr/local/bin/

podman run -p50051:50051 --name operator-index \
    -d registry.redhat.io/redhat/redhat-operator-index:v4.10

grpcurl -plaintext localhost:50051 api.Registry/ListPackages | jq -r .name > redhat-operator.list

podman rm -fv operator-index

podman run -p50051:50051 --name operator-index \
    -d registry.redhat.io/redhat/certified-operator-index:v4.10

grpcurl -plaintext localhost:50051 api.Registry/ListPackages | jq -r .name > certified-operator.list

podman rm -fv operator-index

podman run -p50051:50051 --name operator-index \
    -d registry.redhat.io/redhat/community-operator-index:v4.10

grpcurl -plaintext localhost:50051 api.Registry/ListPackages | jq -r .name > community-operator.list

podman rm -fv operator-index

podman run -p50051:50051 --name operator-index \
    -d registry.redhat.io/redhat/redhat-marketplace-index:v4.10

grpcurl -plaintext localhost:50051 api.Registry/ListPackages | jq -r .name > marketplace-operator.list

podman rm -fv operator-index

oc get packagemanifest -n openshift-marketplace
# NAME                                               CATALOG               AGE
# hedvig-operator                                    Community Operators   3d19h
# performance-addon-operator                         Red Hat Operators     3d19h
# fpga-dfl-operator                                  Community Operators   3d19h
# k10-kasten-operator-paygo-rhmp                     Red Hat Marketplace   3d19h
# kubemq-operator-marketplace-rhmp                   Red Hat Marketplace   3d19h
# pachyderm-operator-rhmp                            Red Hat Marketplace   3d19h
# redhat-marketplace-operator                        Certified Operators   3d19h
# grafana-cloud-log-forwarder-operator               Certified Operators   3d19h
# percona-xtradb-cluster-operator                    Community Operators   3d19h
# cluster-kube-descheduler-operator                  Red Hat Operators     3d19h
# kogito-operator                                    Community Operators   3d19h
# syndesis                                           Community Operators   3d19h
# vfunction-server-operator-rhmp                     Red Hat Marketplace   3d19h
# idp-mgmt-operator-product                          Red Hat Operators     3d19h
# aws-efs-csi-driver-operator                        Red Hat Operators     3d19h
# maistraoperator                                    Community Operators   3d19h
# memory-machine-operator                            Certified Operators   3d19h
# dell-csi-operator-certified                        Certified Operators   3d19h
# cilium                                             Certified Operators   3d19h
# odoo-operator                                      Community Operators   3d19h
# azure-service-operator                             Community Operators   3d19h
# sigstore-helm-operator                             Community Operators   3d19h
# nutanixcsioperator                                 Certified Operators   3d19h
# hawtio-operator                                    Community Operators   3d19h
# amq-broker-rhel8                                   Red Hat Operators     3d19h
# cincinnati-operator                                Red Hat Operators     3d19h
# xcrypt-operator                                    Certified Operators   3d19h
# ecr-secret-operator                                Community Operators   3d19h
# anchore-engine                                     Certified Operators   3d19h
# citrix-cpx-istio-sidecar-injector-operator         Certified Operators   3d19h
# rhacs-operator                                     Red Hat Operators     3d19h
# rhpam-kogito-operator                              Red Hat Operators     3d19h
# vertical-pod-autoscaler                            Red Hat Operators     3d19h
# odf-multicluster-orchestrator                      Red Hat Operators     3d19h
# ack-ecr-controller                                 Community Operators   3d19h
# cluster-logging                                    Red Hat Operators     3d19h
# k10-kasten-operator-rhmp                           Red Hat Marketplace   3d19h
# sap-commerce-operator                              Community Operators   3d19h
# ack-sagemaker-controller                           Community Operators   3d19h
# node-maintenance-operator                          Red Hat Operators     3d19h
# group-sync-operator                                Community Operators   3d19h
# camel-k                                            Community Operators   3d19h
# nfs-provisioner-operator                           Community Operators   3d19h
# fossul-operator                                    Community Operators   3d19h
# service-registry-operator                          Red Hat Operators     3d19h
# entando-k8s-operator-rhmp                          Red Hat Marketplace   3d19h
# minio-operator                                     Certified Operators   3d19h
# citrix-cpx-with-ingress-controller-operator        Certified Operators   3d19h
# anzounstructured-operator                          Certified Operators   3d19h
# entando-k8s-operator                               Certified Operators   3d19h
# ack-apigatewayv2-controller                        Community Operators   3d19h
# shipwright-operator                                Community Operators   3d19h
# kubevirt-hyperconverged                            Red Hat Operators     3d19h
# victoriametrics-operator                           Community Operators   3d19h
# k8s-triliovault-ibm                                Certified Operators   3d19h
# installkit-customer                                Certified Operators   3d19h
# sriov-fec                                          Certified Operators   3d19h
# elasticsearch-eck-operator-certified               Certified Operators   3d19h
# flux                                               Community Operators   3d19h
# beegfs-csi-driver-operator                         Community Operators   3d19h
# patch-operator                                     Community Operators   3d19h
# advanced-cluster-management                        Red Hat Operators     3d19h
# sysdig-certified-rhmp                              Red Hat Marketplace   3d19h
# ack-sfn-controller                                 Community Operators   3d19h
# openshift-secondary-scheduler-operator             Red Hat Operators     3d19h
# openshift-qiskit-operator                          Community Operators   3d19h
# keda                                               Community Operators   3d19h
# gitlab-operator-kubernetes                         Community Operators   3d19h
# marin3r                                            Community Operators   3d19h
# cloudbees-ci                                       Certified Operators   3d19h
# joget-dx-operator                                  Certified Operators   3d19h
# external-secrets-operator                          Community Operators   3d19h
# datagrid                                           Red Hat Operators     3d19h
# opentelemetry-product                              Red Hat Operators     3d19h
# citrix-adc-istio-ingress-gateway-operator          Certified Operators   3d19h
# hpe-csi-operator                                   Certified Operators   3d19h
# timemachine-operator                               Certified Operators   3d19h
# klusterlet-product                                 Red Hat Operators     3d19h
# datatrucker-operator                               Community Operators   3d19h
# elasticsearch-operator                             Red Hat Operators     3d19h
# silicom-sts-operator                               Community Operators   3d19h
# rhsso-operator                                     Red Hat Operators     3d19h
# percona-server-mongodb-operator                    Community Operators   3d19h
# strimzi-kafka-operator                             Community Operators   3d19h
# tackle-operator                                    Community Operators   3d19h
# ack-elasticache-controller                         Community Operators   3d19h
# web-terminal                                       Red Hat Operators     3d19h
# ack-s3-controller                                  Community Operators   3d19h
# serverless-operator                                Red Hat Operators     3d19h
# kiali                                              Community Operators   3d19h
# mcg-operator                                       Red Hat Operators     3d19h
# must-gather-operator                               Community Operators   3d19h
# patterns-operator                                  Community Operators   3d19h
# ack-lambda-controller                              Community Operators   3d19h
# cert-utils-operator                                Community Operators   3d19h
# t8c-certified-rhmp                                 Red Hat Marketplace   3d19h
# cloudbees-ci-rhmp                                  Red Hat Marketplace   3d19h
# instana-agent-operator                             Certified Operators   3d19h
# aikit-operator                                     Certified Operators   3d19h
# yaks                                               Community Operators   3d19h
# mongodb-atlas-kubernetes                           Community Operators   3d19h
# crunchy-postgres-operator-rhmp                     Red Hat Marketplace   3d19h
# ibm-security-verify-operator                       Certified Operators   3d19h
# mtc-operator                                       Red Hat Operators     3d19h
# zabbix-operator-certified-rhmp                     Red Hat Marketplace   3d19h
# citrix-ingress-controller-operator                 Certified Operators   3d19h
# community-windows-machine-config-operator          Community Operators   3d19h
# cockroachdb-certified-rhmp                         Red Hat Marketplace   3d19h
# seldon-operator-certified                          Certified Operators   3d19h
# community-kubevirt-hyperconverged                  Community Operators   3d19h
# apicurio-registry                                  Community Operators   3d19h
# codeready-workspaces2                              Red Hat Operators     3d19h
# uma-operator                                       Certified Operators   3d19h
# skupper-operator                                   Red Hat Operators     3d19h
# ansible-automation-platform-operator               Red Hat Operators     3d19h
# ovms-operator-rhmp                                 Red Hat Marketplace   3d19h
# assisted-service-operator                          Community Operators   3d19h
# instana-agent-operator-rhmp                        Red Hat Marketplace   3d19h
# fujitsu-enterprise-postgres-operator               Certified Operators   3d19h
# cloud-native-postgresql                            Certified Operators   3d19h
# cisco-hxcsi-operator                               Certified Operators   3d19h
# ack-rds-controller                                 Community Operators   3d19h
# lib-bucket-provisioner                             Community Operators   3d19h
# numaresources-operator                             Red Hat Operators     3d19h
# argocd-operator                                    Community Operators   3d19h
# ack-eks-controller                                 Community Operators   3d19h
# kubeturbo-certified-rhmp                           Red Hat Marketplace   3d19h
# node-maintenance-operator                          Community Operators   3d19h
# kubeturbo                                          Community Operators   3d19h
# redis-enterprise-operator-cert                     Certified Operators   3d19h
# eclipse-che                                        Community Operators   3d19h
# apicast-operator                                   Red Hat Operators     3d19h
# sosreport-operator                                 Community Operators   3d19h
# tang-operator                                      Red Hat Operators     3d19h
# openshift-special-resource-operator                Red Hat Operators     3d19h
# cryostat-operator                                  Red Hat Operators     3d19h
# sandboxed-containers-operator                      Red Hat Operators     3d19h
# fuse-online                                        Red Hat Operators     3d19h
# resource-locker-operator                           Community Operators   3d19h
# integrity-shield-operator                          Community Operators   3d19h
# ack-ec2-controller                                 Community Operators   3d19h
# minio-operator-rhmp                                Red Hat Marketplace   3d19h
# redis-enterprise-operator-cert-rhmp                Red Hat Marketplace   3d19h
# cass-operator                                      Certified Operators   3d19h
# nxiq-operator-certified                            Certified Operators   3d19h
# amq-streams                                        Red Hat Operators     3d19h
# marketplace-games-operator-rhmp                    Red Hat Marketplace   3d19h
# op-svc-jenkins-rhmp                                Red Hat Marketplace   3d19h
# trivy-operator                                     Community Operators   3d19h
# volume-expander-operator                           Community Operators   3d19h
# citrix-ingress-controller-operator-rhmp            Red Hat Marketplace   3d19h
# kiali-ossm                                         Red Hat Operators     3d19h
# crunchy-postgres-operator                          Certified Operators   3d19h
# hpe-ezmeral-csi-operator                           Certified Operators   3d19h
# silicom-sts-operator                               Certified Operators   3d19h
# proactive-node-scaling-operator                    Community Operators   3d19h
# tf-controller                                      Community Operators   3d19h
# fuse-apicurito                                     Red Hat Operators     3d19h
# project-quay                                       Community Operators   3d19h
# submariner                                         Red Hat Operators     3d19h
# couchbase-enterprise-certified                     Certified Operators   3d19h
# postgresql                                         Community Operators   3d19h
# rhoas-operator                                     Community Operators   3d19h
# tagger                                             Community Operators   3d19h
# kubemq-operator-marketplace                        Certified Operators   3d19h
# sysdig-certified                                   Certified Operators   3d19h
# netobserv-operator                                 Community Operators   3d19h
# snyk-operator                                      Community Operators   3d19h
# ako-operator                                       Certified Operators   3d19h
# ack-dynamodb-controller                            Community Operators   3d19h
# aws-efs-operator                                   Community Operators   3d19h
# ocs-operator                                       Red Hat Operators     3d19h
# koku-metrics-operator                              Community Operators   3d19h
# neuvector-community-operator                       Community Operators   3d19h
# linstor-operator-rhmp                              Red Hat Marketplace   3d19h
# apicurito                                          Community Operators   3d19h
# dpu-network-operator                               Red Hat Operators     3d19h
# metallb-operator                                   Red Hat Operators     3d19h
# aqua                                               Community Operators   3d19h
# k8s-triliovault                                    Certified Operators   3d19h
# universal-crossplane                               Community Operators   3d19h
# istio-workspace-operator                           Community Operators   3d19h
# quay-bridge-operator                               Red Hat Operators     3d19h
# openshiftxray-operator                             Certified Operators   3d19h
# ansible-cloud-addons-operator                      Red Hat Operators     3d19h
# mtv-operator                                       Red Hat Operators     3d19h
# multicluster-operators-subscription                Community Operators   3d19h
# dell-csm-operator                                  Community Operators   3d19h
# kube-green                                         Community Operators   3d19h
# pcc-operator                                       Community Operators   3d19h
# ccm-node-agent-dcap-operator                       Certified Operators   3d19h
# redhat-oadp-operator                               Red Hat Operators     3d19h
# hazelcast-platform-operator                        Community Operators   3d19h
# external-dns-operator                              Red Hat Operators     3d19h
# businessautomation-operator                        Red Hat Operators     3d19h
# odr-hub-operator                                   Red Hat Operators     3d19h
# gpu-operator-certified                             Certified Operators   3d19h
# tigera-operator                                    Certified Operators   3d19h
# pmem-csi-operator-os                               Certified Operators   3d19h
# ibmcloud-operator                                  Community Operators   3d19h
# alvearie-imaging-ingestion                         Community Operators   3d19h
# sriov-network-operator                             Red Hat Operators     3d19h
# odr-cluster-operator                               Red Hat Operators     3d19h
# global-load-balancer-operator                      Community Operators   3d19h
# joget-dx-operator-rhmp                             Red Hat Marketplace   3d19h
# ibm-block-csi-operator                             Certified Operators   3d19h
# ack-kms-controller                                 Community Operators   3d19h
# ack-iam-controller                                 Community Operators   3d19h
# fuse-console                                       Red Hat Operators     3d19h
# openshift-pipelines-operator-rh                    Red Hat Operators     3d19h
# infoscale-operator                                 Certified Operators   3d19h
# klusterlet                                         Community Operators   3d19h
# namespace-configuration-operator                   Community Operators   3d19h
# prometurbo                                         Community Operators   3d19h
# kubernetes-imagepuller-operator                    Community Operators   3d19h
# app-director-operator                              Community Operators   3d19h
# hpe-csi-operator-rhmp                              Red Hat Marketplace   3d19h
# couchbase-enterprise-certified-rhmp                Red Hat Marketplace   3d19h
# k8s-triliovault-rhmp                               Red Hat Marketplace   3d19h
# machine-deletion-operator                          Community Operators   3d19h
# prometheus-exporter-operator                       Community Operators   3d19h
# gitops-primer                                      Community Operators   3d19h
# dynatrace-operator                                 Certified Operators   3d19h
# cilium-enterprise                                  Certified Operators   3d19h
# openshiftartifactoryha-operator                    Certified Operators   3d19h
# servicemeshoperator                                Red Hat Operators     3d19h
# anzograph-operator-rhmp                            Red Hat Marketplace   3d19h
# neuvector-certified-operator                       Certified Operators   3d19h
# t8c                                                Community Operators   3d19h
# prometheus                                         Community Operators   3d19h
# eap                                                Red Hat Operators     3d19h
# node-healthcheck-operator                          Red Hat Operators     3d19h
# neuvector-certified-operator-rhmp                  Red Hat Marketplace   3d19h
# anzo-operator                                      Certified Operators   3d19h
# ccm-node-agent-operator                            Certified Operators   3d19h
# vault-config-operator                              Community Operators   3d19h
# grafana-operator                                   Community Operators   3d19h
# codeready-workspaces                               Red Hat Operators     3d19h
# ibm-block-csi-operator-community                   Community Operators   3d19h
# iomesh-operator-rhmp                               Red Hat Marketplace   3d19h
# runtime-component-operator-certified               Certified Operators   3d19h
# sanstoragecsi-operator-bundle                      Certified Operators   3d19h
# federatorai-certified                              Certified Operators   3d19h
# amq7-interconnect-operator                         Red Hat Operators     3d19h
# ack-opensearchservice-controller                   Community Operators   3d19h
# snapscheduler                                      Community Operators   3d19h
# anzograph-operator                                 Certified Operators   3d19h
# ember-csi-community-operator                       Community Operators   3d19h
# seldon-deploy-operator-rhmp                        Red Hat Marketplace   3d19h
# ibmz-mongodb-enterprise-operator                   Certified Operators   3d19h
# open-liberty-certified                             Certified Operators   3d19h
# mongodb-operator                                   Community Operators   3d19h
# odf-operator                                       Red Hat Operators     3d19h
# devworkspace-operator                              Red Hat Operators     3d19h
# loki-operator                                      Red Hat Operators     3d19h
# tidb-operator                                      Community Operators   3d19h
# vfunction-server-operator                          Certified Operators   3d19h
# l5-operator                                        Community Operators   3d19h
# windows-machine-config-operator                    Red Hat Operators     3d19h
# microcks                                           Community Operators   3d19h
# prometurbo-certified                               Certified Operators   3d19h
# nexus-operator-m88i                                Community Operators   3d19h
# integration-operator                               Red Hat Operators     3d19h
# aikit-operator-rhmp                                Red Hat Marketplace   3d19h
# 3scale-operator                                    Red Hat Operators     3d19h
# local-storage-operator                             Red Hat Operators     3d19h
# costmanagement-metrics-operator                    Red Hat Operators     3d19h
# nfd                                                Red Hat Operators     3d19h
# citrix-cpx-with-ingress-controller-operator-rhmp   Red Hat Marketplace   3d19h
# deployment-validation-operator                     Community Operators   3d19h
# cass-operator-community                            Community Operators   3d19h
# seldon-operator                                    Community Operators   3d19h
# portworx-certified                                 Certified Operators   3d19h
# anzounstructured-operator-rhmp                     Red Hat Marketplace   3d19h
# anzo-operator-rhmp                                 Red Hat Marketplace   3d19h
# fep-ansible-operator                               Certified Operators   3d19h
# opendatahub-operator                               Community Operators   3d19h
# cluster-manager                                    Community Operators   3d19h
# dynatrace-operator                                 Community Operators   3d19h
# yugabyte-platform-operator-bundle-rhmp             Red Hat Marketplace   3d19h
# memcached-operator-ogaye                           Certified Operators   3d19h
# pcc-operator                                       Certified Operators   3d19h
# opentelemetry-operator                             Community Operators   3d19h
# openshift-cert-manager-operator                    Red Hat Operators     3d19h
# jaeger                                             Community Operators   3d19h
# keepalived-operator                                Community Operators   3d19h
# openshift-nfd-operator                             Community Operators   3d19h
# reportportal-operator                              Community Operators   3d19h
# rookout-k8s-operator                               Certified Operators   3d19h
# odf-lvm-operator                                   Red Hat Operators     3d19h
# portworx-essentials                                Community Operators   3d19h
# gatekeeper-operator-product                        Red Hat Operators     3d19h
# egressip-ipam-operator                             Community Operators   3d19h
# gitlab-runner-operator                             Community Operators   3d19h
# poison-pill-manager                                Red Hat Operators     3d19h
# cert-manager                                       Community Operators   3d19h
# smilecdr-operator                                  Certified Operators   3d19h
# infinibox-operator-certified                       Certified Operators   3d19h
# varnish-operator                                   Community Operators   3d19h
# jws-operator                                       Red Hat Operators     3d19h
# poison-pill-operator                               Community Operators   3d19h
# marketplace-games-operator                         Certified Operators   3d19h
# ibm-application-gateway-operator                   Certified Operators   3d19h
# amq-online                                         Red Hat Operators     3d19h
# kubernetes-nmstate-operator                        Red Hat Operators     3d19h
# pulp-operator                                      Community Operators   3d19h
# oadp-operator                                      Community Operators   3d19h
# quay-operator                                      Red Hat Operators     3d19h
# rh-service-binding-operator                        Red Hat Operators     3d19h
# starburst-enterprise-helm-operator-rhmp            Red Hat Marketplace   3d19h
# linstor-operator                                   Certified Operators   3d19h
# apimatic-kubernetes-operator                       Community Operators   3d19h
# special-resource-operator                          Community Operators   3d19h
# compliance-operator                                Red Hat Operators     3d19h
# ovms-operator                                      Certified Operators   3d19h
# ack-applicationautoscaling-controller              Community Operators   3d19h
# k10-kasten-operator-term-rhmp                      Red Hat Marketplace   3d19h
# intel-device-plugins-operator                      Certified Operators   3d19h
# clusterresourceoverride                            Red Hat Operators     3d19h
# etcd                                               Community Operators   3d19h
# iomesh-operator                                    Certified Operators   3d19h
# t8c-certified                                      Certified Operators   3d19h
# zabbix-operator-certified                          Certified Operators   3d19h
# sosivio                                            Community Operators   3d19h
# jaeger-product                                     Red Hat Operators     3d19h
# hyperfoil-bundle                                   Community Operators   3d19h
# ack-mq-controller                                  Community Operators   3d19h
# awss3-operator-registry                            Community Operators   3d19h
# devopsinabox                                       Community Operators   3d19h
# eventing-kogito                                    Community Operators   3d19h
# openebs                                            Community Operators   3d19h
# dynatrace-operator-rhmp                            Red Hat Marketplace   3d19h
# operator-certification-operator                    Certified Operators   3d19h
# nxrm-operator-certified                            Certified Operators   3d19h
# ripsaw                                             Community Operators   3d19h
# cockroachdb                                        Community Operators   3d19h
# verticadb-operator                                 Community Operators   3d19h
# aqua-operator-certified                            Certified Operators   3d19h
# fujitsu-enterprise-operator                        Certified Operators   3d19h
# redis-operator                                     Community Operators   3d19h
# xcrypt-operator-rhmp                               Red Hat Marketplace   3d19h
# hazelcast-platform-operator                        Certified Operators   3d19h
# nginx-ingress-operator                             Certified Operators   3d19h
# kubeturbo-certified                                Certified Operators   3d19h
# falcon-operator                                    Community Operators   3d19h
# application-services-metering-operator             Community Operators   3d19h
# container-security-operator                        Red Hat Operators     3d19h
# pachyderm-operator                                 Certified Operators   3d19h
# authorino-operator                                 Community Operators   3d19h
# openshift-gitops-operator                          Red Hat Operators     3d19h
# ptp-operator                                       Red Hat Operators     3d19h
# file-integrity-operator                            Red Hat Operators     3d19h
# node-healthcheck-operator                          Community Operators   3d19h
# hive-operator                                      Community Operators   3d19h
# ibm-spectrum-scale-csi-operator                    Community Operators   3d19h
# mta-operator                                       Community Operators   3d19h
# red-hat-camel-k                                    Red Hat Operators     3d19h
# odf-csi-addons-operator                            Red Hat Operators     3d19h
# gitlab-runner-operator                             Certified Operators   3d19h
# infinispan                                         Community Operators   3d19h
# cluster-impairment-operator                        Community Operators   3d19h
# keycloak-operator                                  Community Operators   3d19h


```

# other
vultr block tips
```bash

# Create new empty partitions:
parted -s /dev/vdb mklabel gpt
parted -s /dev/vdb unit mib mkpart primary 0% 100%

# Create new empty filesystem:
mkfs.ext4 /dev/vdb1

```
